import{_ as x,a as R,u as V,b as N,r as i,e as n,f as q,h as D,i as e,j as c,t as d,w as _,k as B,p as K,n as j,q as A,s as M}from"./index-baa31b2b.js";const v=r=>(A("data-v-fc67b0ff"),r=r(),M(),r),T={class:"share"},E={class:"body-content"},O=v(()=>e("div",{class:"logo"},[e("span",{class:"iconfont icon-pan"}),e("span",{class:"name"},"原梦云")],-1)),U={class:"code-panel"},$={class:"file-info"},z={class:"avatar"},F={class:"share-info"},G={class:"user-info"},H={class:"nick-name"},J={class:"share-time"},L={class:"file-name"},P={class:"code-body"},Q=v(()=>e("div",{class:"tips"},"请输入提取码: ",-1)),W={class:"input-area"},X={__name:"ShareCheck",setup(r){const{proxy:u}=R(),S=V(),I=N(),h={getShareInfo:"/showShare/getShareInfo",checkShareCode:"/showShare/checkShareCode"},l=I.params.shareId,s=i({});(async()=>{let t=await u.Request({url:h.getShareInfo,params:{shareId:l}});t&&(s.value=t.data)})();const a=i({}),p=i(),y={code:[{required:!0,message:"请输入提取码"},{min:5,message:"提取码为5位"},{max:5,message:"提取码为5位"}]},f=async()=>{p.value.validate(async t=>{!t||(Object.assign({},a.value),!await u.Request({url:h.checkShareCode,params:{shareId:l,code:a.value.code}}))||S.push(`/share/${l}`)})};return(t,o)=>{const m=n("Avatar"),g=n("el-input"),k=n("el-button"),b=n("el-form-item"),w=n("el-form");return q(),D("div",T,[e("div",E,[O,e("div",U,[e("div",$,[e("div",z,[c(m,{userId:s.value.userId,avatar:s.value.avatar,width:50},null,8,["userId","avatar"])]),e("div",F,[e("div",G,[e("span",H,d(s.value.nickName),1),e("span",J,"分享于 "+d(s.value.shareTime),1)]),e("div",L,"分享文件："+d(s.value.fileName),1)])]),e("div",P,[Q,e("div",W,[c(w,{model:a.value,rules:y,ref_key:"formDataRef",ref:p,onSubmit:o[1]||(o[1]=B(()=>{},["prevent"]))},{default:_(()=>[c(b,{prop:"code"},{default:_(()=>[c(g,{class:"input",clearable:"",modelValue:a.value.code,"onUpdate:modelValue":o[0]||(o[0]=C=>a.value.code=C),modelModifiers:{trim:!0},onKeyup:K(f,["enter"])},null,8,["modelValue","onKeyup"]),c(k,{class:"get-btn",type:"primary",onClick:f},{default:_(()=>[j("提取文件")]),_:1})]),_:1})]),_:1},8,["model"])])])])])])}}},ee=x(X,[["__scopeId","data-v-fc67b0ff"]]);export{ee as default};
